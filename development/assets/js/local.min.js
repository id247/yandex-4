/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/Users/bazhenov/Work/_html/development/assets/js";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _app = __webpack_require__(/*! ./app */ 1);
	
	var _app2 = _interopRequireDefault(_app);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	document.addEventListener('DOMContentLoaded', function () {
	
		_app2.default.init();
	});

/***/ },
/* 1 */
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	
	exports.default = function (window, document, $) {
		console.log('run');
	
		var maxHeight = 650;
		var maxWidth = 1020;
	
		var isMobile = function () {
			if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) {
				return true;
			} else {
				return false;
			}
		}();
	
		function scrollMeTo() {
	
			var $header = $('#header');
	
			$('.js-goto').on('click', function (e) {
				var paddingTop = $(window).width() > maxWidth ? $header.outerHeight() : 0;
				var $target = $(this.href.replace(/^.*\#/, '#'));
	
				if ($target.length === 1) {
					e.preventDefault();
	
					$('body,html').animate({
						scrollTop: $target.offset().top - paddingTop,
						easing: 'ease-in'
					}, 500);
				};
			});
		};
	
		function header() {
			var $header = $('header');
	
			function fix() {
				var scrollTop = $(window).scrollTop();
				var showPosition = 200;
	
				if (scrollTop > 0 && scrollTop <= showPosition) {
					$header.addClass('header--hidden');
					$header.removeClass('header--scrolled');
				} else if (scrollTop > showPosition) {
					$header.addClass('header--scrolled');
					$header.removeClass('header--hidden');
				} else {
					$header.removeClass('header--scrolled');
					$header.removeClass('header--hidden');
				}
			}
			fix();
	
			$(document).on('scroll', fix);
		}
	
		function menu() {
			var $menuHrefs = $('.menu__href');
			var $sections = $('.section');
	
			var winHeight = window.innerHeight || document.documentElement.clientHeight;
	
			function setActive() {
				$sections.each(function (index, section) {
					var sectionId = $(this).attr('id');
					var rect = this.getBoundingClientRect();
					var rectTop = Math.round(rect.top);
					var rectBottom = Math.round(rect.bottom);
	
					if (rectTop <= 50 && rectBottom / 2 <= winHeight) {
						$menuHrefs.removeClass('active');
						$menuHrefs.filter('[href="#' + sectionId + '"]').addClass('active');
					}
				});
			}
			setActive();
	
			$(window).on('scroll', function (e) {
				setActive();
			});
	
			$(window).on('resize', function (e) {
				winHeight = window.innerHeight || document.documentElement.clientHeight;
				setActive();
			});
		}
	
		/*
	 	submit form
	 */
	
		function form() {
	
			$.extend($.validator.messages, {
				required: 'Это поле обязательно для заполнения.',
				remote: 'Please fix this field.',
				email: 'Введите корректный e-mail адрес.',
				url: 'Please enter a valid URL.',
				date: 'Please enter a valid date.',
				dateISO: 'Please enter a valid date (ISO).',
				number: 'Введите число.',
				digits: 'Допустимо вводить только цифры.',
				creditcard: 'Please enter a valid credit card number.',
				equalTo: 'Please enter the same value again.',
				accept: 'Please enter a value with a valid extension.',
				maxlength: jQuery.validator.format('Please enter no more than {0} characters.'),
				minlength: jQuery.validator.format('Please enter at least {0} characters.'),
				rangelength: jQuery.validator.format('Please enter a value between {0} and {1} characters long.'),
				range: jQuery.validator.format('Please enter a value between {0} and {1}.'),
				max: jQuery.validator.format('Please enter a value less than or equal to {0}.'),
				min: jQuery.validator.format('Please enter a value greater than or equal to {0}.')
			});
	
			$('form').each(function () {
	
				var $form = $(this);
				var $button = $form.find('button[type="submit"]');
				var $success = $form.find('.order-form__success');
	
				$success.hide();
	
				$form.validate({});
	
				$form.on('submit', function (e) {
	
					e.preventDefault();
	
					var form = e.target;
	
					if (!$(form).valid()) {
						return false;
					}
	
					$button.text('Отправка данных...');
					$button.attr('disabled', true);
	
					$.ajax({
						url: $form.attr('action'),
						method: 'POST',
						data: $form.serialize(),
						dataType: 'json',
						success: function success(response) {
							console.log(response);
							$success.html('Спасибо! Ваша заявка была успешно отправлена!');
							$success.removeClass('order-form__success--error');
						},
						error: function error(xhr, ajaxOptions, _error) {
							console.log('Data could not be saved.' + _error.message);
							$success.addClass('order-form__success--error');
							$success.html('Ошибка сохранения данных, попробуйте еще раз. Если ошибка повторится - свяжитесь с нами.');
						},
						complete: function complete() {
							$success.show();
							$button.attr('disabled', false).text('Отправить заявку');
						}
					});
				});
			});
		}
	
		function init() {
	
			if (!isMobile) {
				header();
			}
	
			scrollMeTo();
			menu();
			form();
		}
	
		return {
			init: init
		};
	}(window, document, jQuery, undefined);

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOGUyMWY0ZDM1ODQ0ZTViZjg5ZTIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdCIsIndpbmRvdyIsIiQiLCJjb25zb2xlIiwibG9nIiwibWF4SGVpZ2h0IiwibWF4V2lkdGgiLCJpc01vYmlsZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwic2Nyb2xsTWVUbyIsIiRoZWFkZXIiLCJvbiIsImUiLCJwYWRkaW5nVG9wIiwid2lkdGgiLCJvdXRlckhlaWdodCIsIiR0YXJnZXQiLCJocmVmIiwicmVwbGFjZSIsImxlbmd0aCIsInByZXZlbnREZWZhdWx0IiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImVhc2luZyIsImhlYWRlciIsImZpeCIsInNob3dQb3NpdGlvbiIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJtZW51IiwiJG1lbnVIcmVmcyIsIiRzZWN0aW9ucyIsIndpbkhlaWdodCIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0Iiwic2V0QWN0aXZlIiwiZWFjaCIsImluZGV4Iiwic2VjdGlvbiIsInNlY3Rpb25JZCIsImF0dHIiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVjdFRvcCIsIk1hdGgiLCJyb3VuZCIsInJlY3RCb3R0b20iLCJib3R0b20iLCJmaWx0ZXIiLCJmb3JtIiwiZXh0ZW5kIiwidmFsaWRhdG9yIiwibWVzc2FnZXMiLCJyZXF1aXJlZCIsInJlbW90ZSIsImVtYWlsIiwidXJsIiwiZGF0ZSIsImRhdGVJU08iLCJudW1iZXIiLCJkaWdpdHMiLCJjcmVkaXRjYXJkIiwiZXF1YWxUbyIsImFjY2VwdCIsIm1heGxlbmd0aCIsImpRdWVyeSIsImZvcm1hdCIsIm1pbmxlbmd0aCIsInJhbmdlbGVuZ3RoIiwicmFuZ2UiLCJtYXgiLCJtaW4iLCIkZm9ybSIsIiRidXR0b24iLCJmaW5kIiwiJHN1Y2Nlc3MiLCJoaWRlIiwidmFsaWRhdGUiLCJ0YXJnZXQiLCJ2YWxpZCIsInRleHQiLCJhamF4IiwibWV0aG9kIiwiZGF0YSIsInNlcmlhbGl6ZSIsImRhdGFUeXBlIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiaHRtbCIsImVycm9yIiwieGhyIiwiYWpheE9wdGlvbnMiLCJtZXNzYWdlIiwiY29tcGxldGUiLCJzaG93IiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7OztBQ3RDQTs7QUFFQTs7Ozs7O0FBRUFBLFVBQVNDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxZQUFNOztBQUVuRCxnQkFBSUMsSUFBSjtBQUVBLEVBSkQsRTs7Ozs7Ozs7O0FDSkE7Ozs7OzttQkFFZ0IsVUFBVUMsTUFBVixFQUFrQkgsUUFBbEIsRUFBNEJJLENBQTVCLEVBQThCO0FBQzdDQyxVQUFRQyxHQUFSLENBQVksS0FBWjs7QUFFQSxNQUFJQyxZQUFZLEdBQWhCO0FBQ0EsTUFBSUMsV0FBVyxJQUFmOztBQUVBLE1BQUlDLFdBQVksWUFBVztBQUMxQixPQUFJQyxVQUFVQyxTQUFWLENBQW9CQyxLQUFwQixDQUEwQixVQUExQixLQUNERixVQUFVQyxTQUFWLENBQW9CQyxLQUFwQixDQUEwQixRQUExQixDQURDLElBRURGLFVBQVVDLFNBQVYsQ0FBb0JDLEtBQXBCLENBQTBCLFNBQTFCLENBRkMsSUFHREYsVUFBVUMsU0FBVixDQUFvQkMsS0FBcEIsQ0FBMEIsT0FBMUIsQ0FIQyxJQUlERixVQUFV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VTtBQUNuQmxCLGdCQUFTbUIsSUFBVDtBQUNIckIsZUFBUWpDLElBQVIsQ0FBYSxVQUFiLEVBQXlCLEtBQXpCLEVBQWdDd0MsSUFBaEMsQ0FBcUMsa0JBQXJDO0FBQ0c7QUFuQkUsTUFBUDtBQXdCQSxLQXJDRDtBQXNDQSxJQWpERDtBQW1EQTs7QUFFRCxXQUFTckYsSUFBVCxHQUFlOztBQUVkLE9BQUksQ0FBQ08sUUFBTCxFQUFjO0FBQ2JxQjtBQUNBOztBQUVEakI7QUFDQXNCO0FBQ0FxQjtBQUNBOztBQUVELFNBQU87QUFDTnREO0FBRE0sR0FBUDtBQUlBLEVBak1jLENBaU1aQyxNQWpNWSxFQWlNSkgsUUFqTUksRUFpTU13RSxNQWpNTixFQWlNYzhCLFNBak1kLEMiLCJmaWxlIjoibG9jYWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1VzZXJzL2Jhemhlbm92L1dvcmsvX2h0bWwvZGV2ZWxvcG1lbnQvYXNzZXRzL2pzXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCA4ZTIxZjRkMzU4NDRlNWJmODllMlxuICoqLyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgYXBwIGZyb20gJy4vYXBwJztcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcblxuXHRhcHAuaW5pdCgpO1xuXG59KTsgICBcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL2luZGV4LmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKHdpbmRvdywgZG9jdW1lbnQsICQpe1xuXHRjb25zb2xlLmxvZygncnVuJyk7XG5cblx0dmFyIG1heEhlaWdodCA9IDY1MDtcblx0dmFyIG1heFdpZHRoID0gMTAyMDtcblxuXHR2YXIgaXNNb2JpbGUgPSAoZnVuY3Rpb24oKSB7IFxuXHRcdGlmKCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpXG5cdFx0fHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvd2ViT1MvaSlcblx0XHR8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSlcblx0XHR8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpXG5cdFx0fHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBvZC9pKVxuXHRcdHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0JsYWNrQmVycnkvaSlcblx0XHR8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XaW5kb3dzIFBob25lL2kpXG5cdFx0KXtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9KSgpO1xuXG5cdGZ1bmN0aW9uIHNjcm9sbE1lVG8oKXtcblxuXHRcdFxuXHRcdGNvbnN0ICRoZWFkZXIgPSAkKCcjaGVhZGVyJyk7XG5cdFx0XG5cdFx0JCgnLmpzLWdvdG8nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcblx0XHRcdGNvbnN0IHBhZGRpbmdUb3AgPSAkKHdpbmRvdykud2lkdGgoKSA+IG1heFdpZHRoID8gJGhlYWRlci5vdXRlckhlaWdodCgpIDogMDtcblx0XHRcdGNvbnN0ICR0YXJnZXQgPSAkKHRoaXMuaHJlZi5yZXBsYWNlKCAvXi4qXFwjLywgJyMnICkgKTtcblx0XHRcdFxuXHRcdFx0aWYgKCR0YXJnZXQubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHQkKCdib2R5LGh0bWwnKS5hbmltYXRlKHsgXG5cdFx0XHRcdFx0c2Nyb2xsVG9wOiAkdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIHBhZGRpbmdUb3AsXG5cdFx0XHRcdFx0ZWFzaW5nOiAnZWFzZS1pbidcblx0XHRcdFx0fSwgNTAwKTtcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0fTtcblxuXHRmdW5jdGlvbiBoZWFkZXIoKXtcblx0XHRjb25zdCAkaGVhZGVyID0gJCgnaGVhZGVyJyk7XG5cblxuXHRcdGZ1bmN0aW9uIGZpeCgpe1xuXHRcdFx0Y29uc3Qgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXHRcdFx0Y29uc3Qgc2hvd1Bvc2l0aW9uID0gMjAwO1xuXG5cdFx0XHRpZiAoIHNjcm9sbFRvcCA+IDAgJiYgc2Nyb2xsVG9wIDw9IHNob3dQb3NpdGlvbiApe1xuXHRcdFx0XHQkaGVhZGVyLmFkZENsYXNzKCdoZWFkZXItLWhpZGRlbicpO1xuXHRcdFx0XHQkaGVhZGVyLnJlbW92ZUNsYXNzKCdoZWFkZXItLXNjcm9sbGVkJyk7XG5cdFx0XHR9ZWxzZSBpZiAoIHNjcm9sbFRvcCA+IHNob3dQb3NpdGlvbiApe1xuXHRcdFx0XHQkaGVhZGVyLmFkZENsYXNzKCdoZWFkZXItLXNjcm9sbGVkJyk7XG5cdFx0XHRcdCRoZWFkZXIucmVtb3ZlQ2xhc3MoJ2hlYWRlci0taGlkZGVuJyk7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0JGhlYWRlci5yZW1vdmVDbGFzcygnaGVhZGVyLS1zY3JvbGxlZCcpO1xuXHRcdFx0XHQkaGVhZGVyLnJlbW92ZUNsYXNzKCdoZWFkZXItLWhpZGRlbicpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmaXgoKTtcblxuXHRcdCQoZG9jdW1lbnQpLm9uKCdzY3JvbGwnLCBmaXgpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBtZW51KCl7XG5cdFx0dmFyICRtZW51SHJlZnMgPSAkKCcubWVudV9faHJlZicpO1xuXHRcdHZhciAkc2VjdGlvbnMgPSAkKCcuc2VjdGlvbicpO1xuXG5cdFx0dmFyIHdpbkhlaWdodCA9ICggd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKTtcblxuXHRcdGZ1bmN0aW9uIHNldEFjdGl2ZSgpe1x0XHRcdFx0XHRcdFxuXHRcdFx0JHNlY3Rpb25zLmVhY2goZnVuY3Rpb24oaW5kZXgsIHNlY3Rpb24pe1x0XHRcdFx0XG5cdFx0XHRcdHZhciBzZWN0aW9uSWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG5cdFx0XHRcdHZhciByZWN0ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0dmFyIHJlY3RUb3AgPSBNYXRoLnJvdW5kKHJlY3QudG9wKTtcblx0XHRcdFx0dmFyIHJlY3RCb3R0b20gPSBNYXRoLnJvdW5kKHJlY3QuYm90dG9tKTtcblxuXHRcdFx0XHRpZiAocmVjdFRvcCA8PSA1MCAmJiByZWN0Qm90dG9tIC8gMiA8PSB3aW5IZWlnaHQgKXtcblx0XHRcdFx0XHQkbWVudUhyZWZzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdFx0XHQkbWVudUhyZWZzLmZpbHRlcignW2hyZWY9XCIjJyArIHNlY3Rpb25JZCArICdcIl0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0XHRzZXRBY3RpdmUoKTtcblxuXHRcdCQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRzZXRBY3RpdmUoKTtcblx0XHR9KTtcblxuXHRcdCQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oZSl7XG5cdFx0XHR3aW5IZWlnaHQgPSAoIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICk7XHRcdFx0XG5cdFx0XHRzZXRBY3RpdmUoKTtcblx0XHR9KTtcblxuXHR9XG5cblx0Lypcblx0XHRzdWJtaXQgZm9ybVxuXHQqL1xuXG5cdGZ1bmN0aW9uIGZvcm0oKXtcdFx0XG5cblx0XHQkLmV4dGVuZCgkLnZhbGlkYXRvci5tZXNzYWdlcywge1xuXHRcdFx0cmVxdWlyZWQ6ICfQrdGC0L4g0L/QvtC70LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3QviDQtNC70Y8g0LfQsNC/0L7Qu9C90LXQvdC40Y8uJyxcblx0XHRcdHJlbW90ZTogJ1BsZWFzZSBmaXggdGhpcyBmaWVsZC4nLFxuXHRcdFx0ZW1haWw6ICfQktCy0LXQtNC40YLQtSDQutC+0YDRgNC10LrRgtC90YvQuSBlLW1haWwg0LDQtNGA0LXRgS4nLFxuXHRcdFx0dXJsOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgVVJMLicsXG5cdFx0XHRkYXRlOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZS4nLFxuXHRcdFx0ZGF0ZUlTTzogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUgKElTTykuJyxcblx0XHRcdG51bWJlcjogJ9CS0LLQtdC00LjRgtC1INGH0LjRgdC70L4uJyxcblx0XHRcdGRpZ2l0czogJ9CU0L7Qv9GD0YHRgtC40LzQviDQstCy0L7QtNC40YLRjCDRgtC+0LvRjNC60L4g0YbQuNGE0YDRiy4nLFxuXHRcdFx0Y3JlZGl0Y2FyZDogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGNyZWRpdCBjYXJkIG51bWJlci4nLFxuXHRcdFx0ZXF1YWxUbzogJ1BsZWFzZSBlbnRlciB0aGUgc2FtZSB2YWx1ZSBhZ2Fpbi4nLFxuXHRcdFx0YWNjZXB0OiAnUGxlYXNlIGVudGVyIGEgdmFsdWUgd2l0aCBhIHZhbGlkIGV4dGVuc2lvbi4nLFxuXHRcdFx0bWF4bGVuZ3RoOiBqUXVlcnkudmFsaWRhdG9yLmZvcm1hdCgnUGxlYXNlIGVudGVyIG5vIG1vcmUgdGhhbiB7MH0gY2hhcmFjdGVycy4nKSxcblx0XHRcdG1pbmxlbmd0aDogalF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQoJ1BsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gY2hhcmFjdGVycy4nKSxcblx0XHRcdHJhbmdlbGVuZ3RoOiBqUXVlcnkudmFsaWRhdG9yLmZvcm1hdCgnUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfSBjaGFyYWN0ZXJzIGxvbmcuJyksXG5cdFx0XHRyYW5nZTogalF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQoJ1BsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0uJyksXG5cdFx0XHRtYXg6IGpRdWVyeS52YWxpZGF0b3IuZm9ybWF0KCdQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gezB9LicpLFxuXHRcdFx0bWluOiBqUXVlcnkudmFsaWRhdG9yLmZvcm1hdCgnUGxlYXNlIGVudGVyIGEgdmFsdWUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHswfS4nKVxuXHRcdH0pO1xuXG5cdFx0JCgnZm9ybScpLmVhY2goIGZ1bmN0aW9uKCl7XG5cblx0XHRcdGNvbnN0ICRmb3JtID0gJCh0aGlzKTtcblx0XHRcdGNvbnN0ICRidXR0b24gPSAkZm9ybS5maW5kKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuXHRcdFx0Y29uc3QgJHN1Y2Nlc3MgPSAkZm9ybS5maW5kKCcub3JkZXItZm9ybV9fc3VjY2VzcycpO1xuXHRcdFx0XG5cdFx0XHQkc3VjY2Vzcy5oaWRlKCk7XG5cblx0XHRcdCRmb3JtLnZhbGlkYXRlKHtcblx0XHRcdH0pO1xuXG5cdFx0XHQkZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oZSl7XG5cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdGNvbnN0IGZvcm0gPSBlLnRhcmdldDtcblxuXHRcdFx0XHRpZiAoICEkKGZvcm0pLnZhbGlkKCkgKXtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkYnV0dG9uLnRleHQoJ9Ce0YLQv9GA0LDQstC60LAg0LTQsNC90L3Ri9GFLi4uJyk7XG5cdFx0XHRcdCRidXR0b24uYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcblxuXHRcdFx0XHQkLmFqYXgoe1xuXHRcdFx0XHRcdHVybDogJGZvcm0uYXR0cignYWN0aW9uJyksIFxuXHRcdFx0XHQgICAgbWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdCAgICBkYXRhOiAkZm9ybS5zZXJpYWxpemUoKSxcblx0XHRcdFx0ICAgIGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHRcdCAgICBzdWNjZXNzOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRcdCAgICBcdGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdCRzdWNjZXNzLmh0bWwoJ9Ch0L/QsNGB0LjQsdC+ISDQktCw0YjQsCDQt9Cw0Y/QstC60LAg0LHRi9C70LAg0YPRgdC/0LXRiNC90L4g0L7RgtC/0YDQsNCy0LvQtdC90LAhJyk7XG5cdFx0XHRcdFx0XHQkc3VjY2Vzcy5yZW1vdmVDbGFzcygnb3JkZXItZm9ybV9fc3VjY2Vzcy0tZXJyb3InKTtcdFxuXHRcdFx0XHQgICAgfSxcblx0XHRcdFx0ICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIGFqYXhPcHRpb25zLCBlcnJvcil7XG5cdFx0XHRcdCAgICBcdGNvbnNvbGUubG9nKCdEYXRhIGNvdWxkIG5vdCBiZSBzYXZlZC4nICsgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHRcdFx0XHQkc3VjY2Vzcy5hZGRDbGFzcygnb3JkZXItZm9ybV9fc3VjY2Vzcy0tZXJyb3InKTtcblx0XHRcdFx0XHRcdCRzdWNjZXNzLmh0bWwoJ9Ce0YjQuNCx0LrQsCDRgdC+0YXRgNCw0L3QtdC90LjRjyDQtNCw0L3QvdGL0YUsINC/0L7Qv9GA0L7QsdGD0LnRgtC1INC10YnQtSDRgNCw0LcuINCV0YHQu9C4INC+0YjQuNCx0LrQsCDQv9C+0LLRgtC+0YDQuNGC0YHRjyAtINGB0LLRj9C20LjRgtC10YHRjCDRgSDQvdCw0LzQuC4nKTtcblxuXHRcdFx0XHQgICAgfSxcblx0XHRcdFx0ICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpe1x0XHRcdFx0XHQgICAgXHRcblx0XHRcdFx0ICAgIFx0JHN1Y2Nlc3Muc2hvdygpO1xuXHRcdFx0XHRcdFx0JGJ1dHRvbi5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKS50ZXh0KCfQntGC0L/RgNCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDJyk7XHRcdFx0ICAgIFx0XG5cdFx0XHRcdCAgICB9XG5cdFx0XHRcdH0pO1x0XHRcdFx0XG5cdFx0XHRcdFxuXHRcdFx0XHRcblxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGluaXQoKXtcblxuXHRcdGlmICghaXNNb2JpbGUpe1xuXHRcdFx0aGVhZGVyKCk7XG5cdFx0fVxuXG5cdFx0c2Nyb2xsTWVUbygpO1xuXHRcdG1lbnUoKTtcblx0XHRmb3JtKCk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGluaXQgXG5cdH1cblxufSkod2luZG93LCBkb2N1bWVudCwgalF1ZXJ5LCB1bmRlZmluZWQpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvanMvYXBwLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==